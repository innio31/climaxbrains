<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Mode - Climax Brains Academy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-purple: #6a0dad;
            --secondary-wine: #722f37;
            --accent-gold: #d4af37;
            --light-purple: #9c6fdc;
            --light-wine: #a05252;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f9f3ff 0%, #f5e8f5 100%);
            color: #333;
            min-height: 100vh;
        }
        
        .header {
            background: linear-gradient(to right, var(--primary-purple), var(--secondary-wine));
            color: white;
            text-align: center;
            padding: 2rem 1rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .logo {
            height: 60px;
            margin-right: 15px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }
        
        h1 {
            margin: 0;
            font-size: 1.8rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .back-btn {
            position: absolute;
            left: 20px;
            top: 20px;
            color: white;
            font-size: 1.2rem;
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .back-btn i {
            margin-right: 5px;
        }
        
        .main-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 20px;
        }
        
        /* Added style for practice mode heading */
        .practice-heading {
            text-align: center;
            color: var(--primary-purple);
            margin-bottom: 1.5rem;
            font-size: 2rem;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(106, 13, 173, 0.2);
        }
        
        /* Form container styles */
        .form-container {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 6px 18px rgba(0,0,0,0.1);
            border-left: 5px solid var(--primary-purple);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--secondary-wine);
        }
        
        select, input[type="number"] {  /* Added input styling */
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            background-color: #f9f9f9;
            border: 2px solid var(--light-purple);
        }
        
        .start-btn {
            display: block;
            width: 100%;
            background: linear-gradient(to right, var(--primary-purple), var(--secondary-wine));
            color: white;
            padding: 15px;
            border: none;
            border-radius: 6px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1.5rem;
        }
        
        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(106,13,173,0.3);
        }
        
        .info-box {
            background: rgba(106,13,173,0.1);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1.5rem;
            border-left: 4px solid var(--primary-purple);
        }
        
        /* Exam container styles (initially hidden) */
        .exam-container {
            display: none;
            background: white;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 6px 18px rgba(0,0,0,0.1);
        }
        
        .exam-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .timer {
            background: var(--secondary-wine);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .question-container {
            margin-bottom: 2rem;
        }
        
        .question-number {
            color: var(--primary-purple);
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .question-text {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        
        .options-container {
            margin-left: 1rem;
        }
        
        .option {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        
        .option input {
            width: auto;
            margin-right: 10px;
            cursor: pointer;
        }
        
        .option label {
            margin-bottom: 0;
            cursor: pointer;
            flex: 1;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        .nav-btn {
            background: var(--light-purple);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .nav-btn:hover {
            background: var(--primary-purple);
        }
        
        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .submit-btn {
            background: var(--secondary-wine);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 2rem auto 0;
        }
        
        /* Results container styles */
        .result-container {
            display: none;
            background: white;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 6px 18px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .result-title {
            color: var(--primary-purple);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }
        
        .score {
            font-size: 3rem;
            font-weight: 700;
            color: var(--secondary-wine);
            margin: 1.5rem 0;
        }
        
        .feedback {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .back-to-practice {
            background: var(--primary-purple);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5rem;
            }
            
            .back-btn {
                position: relative;
                left: auto;
                top: auto;
                margin-bottom: 1rem;
                justify-content: center;
            }
            
            .exam-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .timer {
                align-self: flex-end;
            }
        }
        .logo-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 1rem;
    text-align: center;
}

.logo {
    height: 80px; /* Slightly larger logo */
    margin-bottom: 10px;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
}

.school-name {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.school-name h1 {
    margin: 0;
    font-size: 1.8rem;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.school-name h2 {
    margin: 5px 0 0 0;
    font-size: 1.2rem;
    font-weight: normal;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

/* For larger screens, show logo beside the name */
@media (min-width: 768px) {
    .logo-container {
        flex-direction: row;
        justify-content: center;
        gap: 20px;
    }
    
    .logo {
        margin-bottom: 0;
    }
    
    .school-name {
        align-items: flex-start;
    }
            }
    </style>
</head>
<body>
    <header class="header">
        <a href="index.html" class="back-btn animate__animated animate__fadeIn">
            <i class="fas fa-arrow-left"></i> Back
        </a>
        <div class="logo-container">
    <img src="school-logo.png" alt="School Logo" class="logo">
    <div class="school-name">
        <h1>The Climax Brains Academy, Ota</h1>
        <h2>CBT Portal</h2>
    </div>
        </div>
    </header>
    
    <div class="main-container">
        <!-- Moved and styled the Practice Mode heading -->
        <h2 class="practice-heading animate__animated animate__fadeIn">Practice Mode</h2>
        
        <!-- Selection Form -->
        <div class="form-container animate__animated animate__fadeInUp" id="selectionForm">
            <div class="form-group">
                <label for="examType">Select Exam Type:</label>
                <select id="examType">
                    <option value="">-- Select Exam Type --</option>
                    <option value="bece">BECE</option>
                    <option value="waec">WAEC</option>
                    <option value="jamb">JAMB</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="subject">Select Subject:</label>
                <select id="subject" disabled>
                    <option value="">-- Select Subject --</option>
                </select>
            </div>
            
            <!-- Added input for number of questions -->
            <div class="form-group">
                <label for="questionCount">Number of Questions (Max 50):</label>
                <input type="number" id="questionCount" min="1" max="50" value="20">
            </div>
            
            <button class="start-btn" id="startPractice">Start Practice Session</button>
            
            <div class="info-box">
                <!-- Updated note to reflect dynamic timing -->
                <p><strong>Note:</strong> Each practice session will have the number of questions you select with a time limit of 45 seconds per question. You'll receive immediate feedback upon completion.</p>
            </div>
        </div>
        
        <!-- Exam Container (hidden initially) -->
        <div class="exam-container" id="examContainer">
            <div class="exam-header">
                <div>
                    <div id="examTitle"></div>
                    <div id="subjectInfo"></div>
                </div>
                <div class="timer" id="timer">00:00</div>
            </div>
            
            <div class="question-container" id="questionContainer">
                <!-- Questions will be inserted here by JavaScript -->
            </div>
            
            <div class="nav-buttons">
                <button class="nav-btn" id="prevBtn" disabled>Previous</button>
                <button class="nav-btn" id="nextBtn">Next</button>
            </div>
            
            <button class="submit-btn" id="submitBtn">Submit Practice</button>
        </div>
        
        <!-- Results Container (hidden initially) -->
        <div class="result-container" id="resultContainer">
            <h2 class="result-title">Practice Results</h2>
            <div class="score" id="scoreDisplay">0%</div>
            <div class="feedback" id="feedback"></div>
            <button class="back-to-practice" id="backToPractice">Back to Practice Mode</button>
        </div>
    </div>

    <script>
        // Question banks for each exam type and subject
        const questionBank = {
            bece: {
                mathematics: [
                    {
                        question: "What is the value of 5 squared?",
                        options: ["10", "15", "20", "25"],
                        answer: 3 // Index of correct answer (0-based)
                    },
                    {
                        question: "If x + 5 = 12, what is the value of x?",
                        options: ["5", "6", "7", "8"],
                        answer: 2
                    },
                    {
                        question: "What is the area of a rectangle with length 8cm and width 5cm?",
                        options: ["13cm²", "26cm²", "35cm²", "40cm²"],
                        answer: 3
                    },
                    {
                        question: "Which of these numbers is a prime number?",
                        options: ["4", "9", "11", "15"],
                        answer: 2
                    },
                    {
                        question: "What is 3/4 expressed as a percentage?",
                        options: ["25%", "50%", "75%", "100%"],
                        answer: 2
                    }
                    // Add more questions here...
                ],
                english: [
                    {
                        question: "Which of the following is a noun?",
                        options: ["run", "beautiful", "school", "quickly"],
                        answer: 2
                    },
                    {
                        question: "Choose the correct spelling:",
                        options: ["Accomodate", "Acommodate", "Accommodate", "Accommodate"],
                        answer: 3
                    },
                    {
                        question: "What is the past tense of 'go'?",
                        options: ["goed", "gone", "went", "going"],
                        answer: 2
                    }
                    // Add more questions here...
                ]
            },
            waec: {
                mathematics: [
                    {
                        question: "Solve for x: 2x + 5 = 15",
                        options: ["5", "10", "7.5", "20"],
                        answer: 0
                    },
                    {
                        question: "What is the value of π (pi) to two decimal places?",
                        options: ["3.14", "3.16", "3.12", "3.18"],
                        answer: 0
                    }
                    // Add more questions here...
                ],
                physics: [
                    {
                        question: "What is the SI unit of force?",
                        options: ["Joule", "Newton", "Watt", "Pascal"],
                        answer: 1
                    },
                    {
                        question: "Which of the following is a vector quantity?",
                        options: ["Mass", "Temperature", "Velocity", "Time"],
                        answer: 2
                    }
                    // Add more questions here...
                ]
            },
            jamb: {
                mathematics: [
                    {
                        question: "If y = x² + 3x - 4, what is the value of y when x = 2?",
                        options: ["2", "6", "8", "10"],
                        answer: 1
                    }
                    // Add more questions here...
                ],
                english: [
                    {
                        question: "Choose the word that best completes the sentence: She ___ to the market yesterday.",
                        options: ["go", "going", "went", "gone"],
                        answer: 2
                    }
                    // Add more questions here...
                ]
            }
        };

        // DOM elements
        const examTypeSelect = document.getElementById('examType');
        const subjectSelect = document.getElementById('subject');
        const questionCountInput = document.getElementById('questionCount'); // Added
        const startPracticeBtn = document.getElementById('startPractice');
        const selectionForm = document.getElementById('selectionForm');
        const examContainer = document.getElementById('examContainer');
        const examTitle = document.getElementById('examTitle');
        const subjectInfo = document.getElementById('subjectInfo');
        const timerDisplay = document.getElementById('timer');
        const questionContainer = document.getElementById('questionContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const resultContainer = document.getElementById('resultContainer');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const feedbackDisplay = document.getElementById('feedback');
        const backToPracticeBtn = document.getElementById('backToPractice');

        // Global variables
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let timerInterval;
        let timeLeft = 0; // Will be set based on question count
        let currentExamType = '';
        let currentSubject = '';

        // Event listeners
        examTypeSelect.addEventListener('change', function() {
            subjectSelect.disabled = !this.value;
            
            if (this.value) {
                // Clear previous options
                subjectSelect.innerHTML = '<option value="">-- Select Subject --</option>';
                
                // Add subjects based on exam type
                const subjects = Object.keys(questionBank[this.value]);
                subjects.forEach(subject => {
                    const option = document.createElement('option');
                    option.value = subject;
                    option.textContent = subject.charAt(0).toUpperCase() + subject.slice(1);
                    subjectSelect.appendChild(option);
                });
            }
        });

        startPracticeBtn.addEventListener('click', startPracticeSession);
        prevBtn.addEventListener('click', showPreviousQuestion);
        nextBtn.addEventListener('click', showNextQuestion);
        submitBtn.addEventListener('click', submitPractice);
        backToPracticeBtn.addEventListener('click', resetPractice);

        // Functions
        function startPracticeSession() {
            currentExamType = examTypeSelect.value;
            currentSubject = subjectSelect.value;
            const questionCount = parseInt(questionCountInput.value);
            
            if (!currentExamType || !currentSubject) {
                alert('Please select both exam type and subject');
                return;
            }
            
            if (isNaN(questionCount) {
                alert('Please enter a valid number of questions');
                return;
            }
            
            // Get questions for the selected subject
            const allQuestions = questionBank[currentExamType][currentSubject];
            
            if (!allQuestions || allQuestions.length === 0) {
                alert('No questions available for this subject yet. Please try another subject.');
                return;
            }
            
            // Validate question count
            const maxQuestions = Math.min(allQuestions.length, 50);
            if (questionCount < 1 || questionCount > maxQuestions) {
                alert(`Please select between 1 and ${maxQuestions} questions`);
                return;
            }
            
            // Shuffle questions and select requested number
            currentQuestions = shuffleArray([...allQuestions]).slice(0, questionCount);
            
            // Shuffle options for each question
            currentQuestions.forEach(question => {
                if (question.options) {
                    // Store the correct answer text
                    const correctAnswerText = question.options[question.answer];
                    
                    // Shuffle options
                    question.options = shuffleArray([...question.options]);
                    
                    // Update the answer index to point to the same correct answer
                    question.answer = question.options.indexOf(correctAnswerText);
                }
            });
            
            userAnswers = new Array(currentQuestions.length).fill(null);
            
            // Set exam title and info
            examTitle.textContent = `${currentSubject.toUpperCase()} Practice`;
            subjectInfo.textContent = `${currentExamType.toUpperCase()} Mode - ${questionCount} Questions`;
            
            // Hide selection form and show exam container
            selectionForm.style.display = 'none';
            examContainer.style.display = 'block';
            
            // Start with first question
            currentQuestionIndex = 0;
            displayQuestion();
            
            // Calculate and start timer (45 seconds per question)
            timeLeft = questionCount * 45;
            startTimer();
        }

        function displayQuestion() {
            // Update navigation buttons
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = currentQuestionIndex === currentQuestions.length - 1;
            
            // Display question number
            questionContainer.innerHTML = `
                <div class="question-number">Question ${currentQuestionIndex + 1} of ${currentQuestions.length}</div>
            `;
            
            // Display current question
            const question = currentQuestions[currentQuestionIndex];
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question-text';
            questionDiv.textContent = question.question;
            questionContainer.appendChild(questionDiv);
            
            // Display options
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options-container';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'answer';
                input.id = `option-${index}`;
                input.value = index;
                input.checked = userAnswers[currentQuestionIndex] === index;
                
                input.addEventListener('change', () => {
                    userAnswers[currentQuestionIndex] = index;
                });
                
                const label = document.createElement('label');
                label.htmlFor = `option-${index}`;
                label.textContent = option;
                
                optionDiv.appendChild(input);
                optionDiv.appendChild(label);
                optionsDiv.appendChild(optionDiv);
            });
            
            questionContainer.appendChild(optionsDiv);
        }

        function showPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function showNextQuestion() {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            }
        }

        function startTimer() {
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitPractice();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const mins = Math.floor(timeLeft / 60);
            const secs = timeLeft % 60;
            timerDisplay.textContent = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            
            // Change color when time is running low
            if (timeLeft <= 60) { // 1 minute
                timerDisplay.style.backgroundColor = '#e74c3c';
            }
        }

        function submitPractice() {
            clearInterval(timerInterval);
            
            // Calculate score
            let correct = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === currentQuestions[index].answer) {
                    correct++;
                }
            });
            
            const score = Math.round((correct / currentQuestions.length) * 100);
            
            // Show results
            examContainer.style.display = 'none';
            resultContainer.style.display = 'block';
            
            scoreDisplay.textContent = `${score}%`;
            
            // Provide feedback
            if (score >= 80) {
                feedbackDisplay.textContent = 'Excellent work! You have a strong understanding of this subject.';
            } else if (score >= 60) {
                feedbackDisplay.textContent = 'Good job! You have a good grasp of the material but there is room for improvement.';
            } else if (score >= 40) {
                feedbackDisplay.textContent = 'Keep practicing! Review the material and try again.';
            } else {
                feedbackDisplay.textContent = 'More study is needed. Review the material thoroughly and try again.';
            }
        }

        function resetPractice() {
            resultContainer.style.display = 'none';
            selectionForm.style.display = 'block';
            examTypeSelect.value = '';
            subjectSelect.value = '';
            subjectSelect.disabled = true;
            questionCountInput.value = '20';
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>
