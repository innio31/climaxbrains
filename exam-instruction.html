<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Instructions - The Climax Model Schools</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        :root {
            --primary-purple: #6a0dad;
            --secondary-wine: #722f37;
            --accent-gold: #d4af37;
            --light-purple: #9c6fdc;
            --light-wine: #a05252;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f9f3ff 0%, #f5e8f5 100%);
            color: #333;
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo {
            height: 80px;
            margin-bottom: 15px;
        }
        
        h1 {
            color: var(--primary-purple);
            margin-bottom: 10px;
        }
        
        .student-card {
            background: linear-gradient(135deg, rgba(106,13,173,0.1) 0%, rgba(114,47,55,0.1) 100%);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(106,13,173,0.2);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        
        .student-card:hover {
            transform: translateY(-3px);
        }
        
        .student-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .info-item {
            background: white;
            padding: 12px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }
        
        .info-item strong {
            color: var(--secondary-wine);
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .info-item span {
            font-size: 16px;
        }
        
        .instructions-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .instruction-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }
        
        .instruction-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.12);
        }
        
        .section-title {
            color: var(--secondary-wine);
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 2px dashed var(--light-wine);
            display: flex;
            align-items: center;
        }
        
        .section-title span {
            margin-right: 10px;
            font-size: 24px;
            color: var(--accent-gold);
        }
        
        .btn-container {
            text-align: center;
            margin: 40px 0;
        }
        
        .btn {
            display: inline-block;
            background: linear-gradient(to right, var(--primary-purple), var(--secondary-wine));
            color: white;
            padding: 15px 40px;
            text-decoration: none;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(106, 13, 173, 0.3);
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(106, 13, 173, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(255,255,255,0.2), rgba(255,255,255,0));
            transform: translateX(-100%);
            transition: transform 0.4s ease;
        }
        
        .btn:hover::after {
            transform: translateX(100%);
        }
        
        .exam-details {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .exam-details h3 {
            color: var(--primary-purple);
            margin-top: 0;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .student-info {
                grid-template-columns: 1fr;
            }
            
            .btn {
                padding: 12px 30px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header animate__animated animate__fadeIn">
            <img src="school-logo.png" alt="The Climax Model Schools Logo" class="logo">
            <h1>Examination Instructions</h1>
        </div>
        
        <div class="student-card animate__animated animate__fadeInUp">
            <h3>Student Information</h3>
            <div class="student-info" id="studentInfo">
                <!-- Populated by JavaScript -->
            </div>
        </div>
        
        <div class="exam-details animate__animated animate__fadeInUp animate__delay-1s">
            <h3>Examination Details</h3>
            <p><strong>Term:</strong> Second Term Examination 2023/2024 Session</p>
            <p><strong>Date:</strong> <span id="examDate"></span></p>
            <p><strong>Duration:</strong> 2 hours (1 hour per section)</p>
        </div>
        
        <!-- Add to your form -->
<div class="form-group">
  <label for="examSubject">Select Subject:</label>
  <select id="examSubject" class="form-control" required>
    <!-- Options will be populated by JavaScript -->
  </select>
</div>

<script>
  // Populate subjects based on class
  const studentClass = studentData.class.match(/^(JSS|SS)\d/)?.[0] || 'JSS1';
  const subjects = Object.keys(classSubjects[studentClass] || {});
  
  const subjectSelect = document.getElementById('examSubject');
  subjects.forEach(subject => {
    subjectSelect.innerHTML += `<option value="${subject}">${subject}</option>`;
  });
  
  // Store selected subject in session storage
  subjectSelect.addEventListener('change', () => {
    studentData.subject = subjectSelect.value;
    sessionStorage.setItem('studentData', JSON.stringify(studentData));
  });
</script>
        
        <div class="instructions-container">
            <div class="instruction-section animate__animated animate__fadeInUp animate__delay-1s">
                <h3 class="section-title"><span>üìù</span> Objective Section</h3>
                <ol>
                    <li>40 multiple-choice questions</li>
                    <li>Each question has 4 options (A-D)</li>
                    <li>Select the correct answer by clicking</li>
                    <li>You can change answers before submitting</li>
                    <li>Automatically graded upon submission</li>
                    <li>60 minutes duration</li>
                </ol>
            </div>
            
            <div class="instruction-section animate__animated animate__fadeInUp animate__delay-2s">
                <h3 class="section-title"><span>‚úçÔ∏è</span> Theory Section</h3>
                <ol>
                    <li>5 essay questions</li>
                    <li>Write answers on provided answer sheets</li>
                    <li>Include your exam number on each sheet</li>
                    <li>Write clearly and legibly</li>
                    <li>Manually graded by teachers</li>
                    <li>60 minutes duration</li>
                </ol>
            </div>
            
            <div class="instruction-section animate__animated animate__fadeInUp animate__delay-3s">
                <h3 class="section-title"><span>‚ùó</span> Important Rules</h3>
                <ul>
                    <li>No switching between sections</li>
                    <li>No page refreshing during exam</li>
                    <li>No external aids permitted</li>
                    <li>Malpractice leads to disqualification</li>
                    <li>Timer will be visible throughout</li>
                    <li>Submit all answer sheets after completion</li>
                </ul>
            </div>
        </div>
        
        <div class="btn-container animate__animated animate__fadeInUp animate__delay-4s">
    <button class="btn" id="startExamBtn">Start Objective Section</button>
</div>

<script>
    document.getElementById('startExamBtn').addEventListener('click', function() {
        // Verify student data exists before proceeding
        const studentData = JSON.parse(sessionStorage.getItem('studentData'));
        if (studentData && studentData.examNumber) {
            window.location.href = 'objective-section.html';
        } else {
            alert('Student data not found. Please login again.');
            window.location.href = 'login.html';
        }
    });
</script>
        
        <div class="footer">
            <p>¬© 2025 The Climax Brains Academy, Ota. All Rights Reserved.</p>
            <p>Powered by <a href="https://digskills.netlify.app" target="_blank" style="color: var(--primary-purple); font-weight: 600;">DigSkills</a></p>
        </div>
    </div>

    <script>
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyDuKgSUZejLLveOe8oXlHo64OnCDFvwPc4",
  authDomain: "climax-brains-academy-cbt.firebaseapp.com",
  projectId: "climax-brains-academy-cbt",
  storageBucket: "climax-brains-academy-cbt.firebasestorage.app",
  messagingSenderId: "1024257040553",
  appId: "1:1024257040553:web:3cc25d238fa378358f09b8",
  measurementId: "G-LVDHYESXJG"
};

        // Initialize Firebase
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const database = firebase.database();

        // Get student data from session storage or database
        document.addEventListener('DOMContentLoaded', function() {
            const studentData = JSON.parse(sessionStorage.getItem('studentData'));
            const studentInfo = document.getElementById('studentInfo');
            const examDate = document.getElementById('examDate');
            const startExamBtn = document.getElementById('startExamBtn');
            
            // Set exam date (2 days from today)
            const today = new Date();
            const examDay = new Date(today);
            examDay.setDate(today.getDate() + 2);
            examDate.textContent = examDay.toLocaleDateString('en-US', { 
                weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' 
            });
            
            if (studentData) {
                // Populate student info from session storage
                studentInfo.innerHTML = `
                    <div class="info-item">
                        <strong>Full Name</strong>
                        <span>${studentData.name}</span>
                    </div>
                    <div class="info-item">
                        <strong>Exam Number</strong>
                        <span>${studentData.examNumber}</span>
                    </div>
                    <div class="info-item">
                        <strong>Class</strong>
                        <span>${studentData.class}</span>
                    </div>
                    <div class="info-item">
                        <strong>Exam Session</strong>
                        <span>2023/2024</span>
                    </div>
                `;
                
                // Add click event to start exam button
                startExamBtn.addEventListener('click', function() {
                    window.location.href = 'objective-section.html';
                });
            } else {
                // If no student data, redirect to login
                window.location.href = 'login.html';
            }
            
            // Fetch additional student details from database
            if (studentData && studentData.examNumber) {
                database.ref('students').orderByChild('examNumber').equalTo(studentData.examNumber).once('value')
                    .then((snapshot) => {
                        if (snapshot.exists()) {
                            const dbStudentData = Object.values(snapshot.val())[0];
                            
                            // Update session storage with complete data
                            const updatedStudentData = {
                                ...studentData,
                                ...dbStudentData
                            };
                            sessionStorage.setItem('studentData', JSON.stringify(updatedStudentData));
                            
                            // Update photo if available
                            if (dbStudentData.photoUrl) {
                                // You could display a student photo here if available
                            }
                        }
                    })
                    .catch((error) => {
                        console.error("Error fetching additional student data:", error);
                    });
            }
        });
    </script>
</body>
</html>